<simple-notifications></simple-notifications>

<div class="content_">
    <section class="content">
        <form name="form_conclusion" (ngSubmit)="fConclusion.form.valid && saveData()" #fConclusion="ngForm" novalidate>
            <div class="conclusion" *ngIf="!add_question">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="box box-primary">
                            <div class="box-body">
                                <div class="form-group" [ngClass]="applyCssError(fConclusion, description)">
                                    <label class="control-label">Descrição da conclusão</label>
                                    <div class="box-body pad">
                                        <quill-editor [options]="editorOptions" id="conclusion_description" name="conclusion_description" #description="ngModel" [(ngModel)]="conclusion.description" required></quill-editor>
                                        <app-control-field-error [showError]="verifyValidSubmitted(fConclusion, description)" msgError="Digite a descrição">
                                        </app-control-field-error>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <!-- Custom Tabs -->
                    <div class="box box-primary">
                        <div class="box-header">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="box-title">Questões</div>
                                </div>
                                <div class="col-sm-6 actions">
                                    <button class="btn btn-primary add" (click)="createNewQuestion()">
                                        <i class="fa fa-plus fa-lg"></i>ADICIONAR QUESTÃO
                                    </button>
                                </div>
                            </div>                            
                        </div>
                            <div class="box-body">
                                <div *ngIf="!hasdata">
                                    <div *ngFor="let item of conclusion.questions; let i = index">
                                        <app-question-item [question]="item" [index]="i + 1"></app-question-item>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="paginate" *ngIf="paginate.size < paginate.totalElements">
                                <button class="btn btn-default" (click)="setPage()">Carregar mais capítulos</button>
                            </div>
                            <div class="paginate" *ngIf="paginate.size > paginate.totalElements">
                                <span class="btn btn-default" disabled> Não há mais capítulos</span>
                            </div> -->
                        </div>
                       
                    </div>
                    <!-- col -->
                </div>
                <!-- /.row -->
            </div>
            <div *ngIf="add_question">
                <app-question [conclusion]="conclusion" (cancel)="onCancelAddAnswer($event)"></app-question>
            </div>
            <div class="row footer">
                <div class="col-md-2">
                    <div>
                        <button class="btn btn-default btn-block" (click)="onCancel()" id="btn_return"> Cancelar</button>
                    </div>
                </div>
                <div class="col-md-2 col-md-offset-8">
                    <div class="form-group save">
                        <button class="btn btn-primary btn-block" name="submit" id="btn_save">Salvar</button>
                    </div>
                </div>
            </div>
        </form>
    </section>
</div>
