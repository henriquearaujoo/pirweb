<div class="content_" *ngIf="!isAgent">
    <div class="content-top">
        <div class="content_fa">
            <i class="large material-icons">insert_chart</i> Relatórios
        </div>
    </div>
    <div class="row margin-10">
        <div class="col-md-7">
            <app-report-chart #chart (exportData)="export_excel($event)" [headerShower]="headerShower" [headerList]="headerList" [pagedItems]="pagedItems"></app-report-chart>
        </div>

        <div class="col-md-5">
            <h5><strong>Configuração</strong></h5>
            <form>
                <div style="height: 400px; overflow-y: auto; background: rgb(241, 241, 241);">
                    <div class="panel-group" id="accordion">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 data-toggle="collapse" data-parent="#accordion" href="#collapse1" class="panel-title expand">
                                    <div class="right-arrow pull-right">+</div>
                                    <a href="#">Entidades (<span class="label-12">Selecione o que deseja pesquisar</span>)</a>
                                </h4>
                            </div>
                            <div id="collapse1" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col col-md-12">
                                            <div class="funkyradio" *ngFor="let item of nodeList">
                                                <div class="col col-md-3" *ngIf="item.alias !== undefined " [ngClass]="startNode === item.node.entity ? 'funkyradio-success' : 'funkyradio-primary'">
                                                    <app-report-entity [entity]="item.node" [rootNode]="startNode === item.node.entity" (apply)="createPath(item.node,$event)"></app-report-entity>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 data-toggle="collapse" data-parent="#accordion" href="#collapse3" class="panel-title expand">
                                    <div class="right-arrow pull-right">+</div>
                                    <a href="#">Colunas</a>
                                </h4>
                            </div>
                            <div id="collapse3" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col col-md-12">
                                            <div class="funkyradio" *ngFor="let prop of headerList; let i = index;">
                                                <div class="col col-md-3">
                                                    <app-report-column [property]="prop" (apply)="filterColumn(prop,$event,i)"></app-report-column>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" (click)="apply()">Aplicar</button>
            </form>
        </div>
    </div>
    <br/><br/>
    <div class="row margin-10">
        <div class="col col-md-12">
            <!-- <div style="width:100%; height:auto; overflow:auto;"> -->
            <app-report-table #table [headerShower]="headerShower" [rootEntity]="currentTable" [headerList]="headerList" [pagedItems]="pagedItems"></app-report-table>
            <!-- </div> -->
            <!-- <div style="width:100%; height:auto; overflow:auto;">
                <table id="example2" class="table">
                    <thead>
                        <tr>
                            <th *ngFor="let h of headerList; let i = index;" [hidden]="!headerShower[i]" class="tbl-left">
                                {{h}}<span class="glyphicon"></span></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of pagedItems">
                            <td class="tbl-left" *ngFor="let d of data;let i = index;" [hidden]="!headerShower[i]">
                                {{d}}
                            </td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th *ngFor="let h of headerList;let i = index;" class="tbl-left" [hidden]="!headerShower[i]">{{h}}<span class="glyphicon"></span></th>
                        </tr>
                    </thead>
                </table>
            </div> -->
            <div class="row" *ngIf="hasdata">
                <div class="col-md-2 text-left">
                    <div class="register">
                        Registros de {{pager.startIndex + 1}} a {{pager.endIndex + 1}} de {{allItems.length}}
                    </div>
                </div>
                <div class="col-md-10 text-right ">
                    <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                        <li [ngClass]="{disabled:pager.currentPage === 1}">
                            <a (click)="setPage(pager.currentPage - 1)">Anterior
                                <i class="fa fa-angle-left" aria-hidden="true"></i>
                            </a>
                        </li>
                        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                            <a (click)="setPage(pager.currentPage + 1)">
                                <i class="fa fa-angle-right" aria-hidden="true"></i> Próximo
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>
<!-- /.modal -->
<button type="button" id="showmodal" data-toggle="modal" data-target="#loading" [hidden]="true">s</button>
<div class="modal fade" id="loading" tabindex="-1" role="dialog" aria-labelledby="loading" aria-hidden="true">
    <div class="modal-dialog" role="document" style="position: absolute; top:30%; left:47%;">
        <div class="loader"></div>
    </div>
    <button type="button" data-dismiss="modal" id="closeModal" [hidden]="true">Close</button>
</div>